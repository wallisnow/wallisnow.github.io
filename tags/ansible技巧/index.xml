<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>ansible技巧 on Unpro BUG</title>
    <link>https://unprobug.com/tags/ansible%E6%8A%80%E5%B7%A7/</link>
    <description>Recent content in ansible技巧 on Unpro BUG</description>
    <image>
      <url>https://unprobug.com/papermod-cover.png</url>
      <link>https://unprobug.com/papermod-cover.png</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Fri, 30 Jul 2021 07:42:09 +0300</lastBuildDate><atom:link href="https://unprobug.com/tags/ansible%E6%8A%80%E5%B7%A7/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>key value list 转 dictionary</title>
      <link>https://unprobug.com/post/ansible/key_value_list_to_dict/</link>
      <pubDate>Fri, 30 Jul 2021 07:42:09 +0300</pubDate>
      
      <guid>https://unprobug.com/post/ansible/key_value_list_to_dict/</guid>
      <description>需求 这两天我需要kubernetes 上面没有ready 的pod列出来, 然后对这些pod进行操作, 又要用到ansible, 思来想去不如来个map, 那么 python 或者ansible里面叫dict
输入 changed: [localhost -&amp;gt; fd00:eccd:0:a0a::5] =&amp;gt; { &amp;quot;ansible_facts&amp;quot;: { &amp;quot;discovered_interpreter_python&amp;quot;: &amp;quot;/usr/bin/python&amp;quot; }, &amp;quot;changed&amp;quot;: true, &amp;quot;cmd&amp;quot;: &amp;quot;/usr/local/bin/kubectl get pods -n kube-system --field-selector spec.nodeName=poolalpha-worker-0-efggjjp-ansibd-01 -o custom-columns=NAME:.metadata.name,\&amp;quot;IS_READY\&amp;quot;:.status.containerStatuses[].ready --no-headers&amp;quot;, &amp;quot;delta&amp;quot;: &amp;quot;0:00:00.475861&amp;quot;, &amp;quot;end&amp;quot;: &amp;quot;2021-07-29 19:37:41.515968&amp;quot;, &amp;quot;invocation&amp;quot;: { &amp;quot;module_args&amp;quot;: { &amp;quot;_raw_params&amp;quot;: &amp;quot;/usr/local/bin/kubectl get pods -n kube-system --field-selector spec.nodeName=poolalpha-worker-0-efggjjp-ansibd-01 -o custom-columns=NAME:.metadata.name,\&amp;quot;IS_READY\&amp;quot;:.status.containerStatuses[].ready --no-headers&amp;quot;, &amp;quot;_uses_shell&amp;quot;: true, &amp;quot;argv&amp;quot;: null, &amp;quot;chdir&amp;quot;: null, &amp;quot;creates&amp;quot;: null, &amp;quot;executable&amp;quot;: null, &amp;quot;removes&amp;quot;: null, &amp;quot;stdin&amp;quot;: null, &amp;quot;stdin_add_newline&amp;quot;: true, &amp;quot;strip_empty_ends&amp;quot;: true, &amp;quot;warn&amp;quot;: true } }, &amp;quot;rc&amp;quot;: 0, &amp;quot;start&amp;quot;: &amp;quot;2021-07-29 19:37:41.</description>
    </item>
    
  </channel>
</rss>
