<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Unprofessional BUG</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Unprofessional BUG"><meta name="msapplication-TileImage" content="/gallery/common/ava.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Unprofessional BUG"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Unprofessional BUG"><meta property="og:url" content="https://unprobug.com/"><meta property="og:site_name" content="Unprofessional BUG"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://unprobug.com/img/og_image.png"><meta property="article:author" content="Jiang WU"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://unprobug.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://unprobug.com"},"headline":"Unprofessional BUG","image":["https://unprobug.com/img/og_image.png"],"author":{"@type":"Person","name":"Jiang WU"},"publisher":{"@type":"Organization","name":"Unprofessional BUG","logo":{"@type":"ImageObject","url":"https://unprobug.com/gallery/common/ava.png"}},"description":""}</script><link rel="alternate" href="/atom.xml" title="Unprofessional BUG" type="application/atom+xml"><link rel="icon" href="/gallery/common/ava.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/agate.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-QNSJ3VFPDD" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-QNSJ3VFPDD');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/gallery/common/ava.png" alt="Unprofessional BUG" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/copyright">Copyright</a></div><div class="navbar-end"><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-02-03T08:15:30.000Z" title="2/3/2022, 10:15:30 AM">2022-02-03</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.046Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/linux/">linux</a></span><span class="level-item">3 分钟读完 (大约472个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/02/03/linux/command/linux-command-how-to-check-container-opened-file-md/">如何查看容器对应的宿主上打开的文件</a></h1><div class="content"><h2 id="查看容器对应的pid"><a href="#查看容器对应的pid" class="headerlink" title="查看容器对应的pid"></a>查看容器对应的pid</h2><h3 id="查看容器id"><a href="#查看容器id" class="headerlink" title="查看容器id"></a>查看容器id</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps </span><br><span class="line"></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES </span><br><span class="line">b71e02952ed1        postgres:13         <span class="string">&quot;docker-entrypoint.s…&quot;</span>   2 weeks ago         Up 2 weeks          0.0.0.0:5432-&gt;5432/tcp   docker_db_1 </span><br></pre></td></tr></table></figure>

<h3 id="查看容器对应的宿主pid"><a href="#查看容器对应的宿主pid" class="headerlink" title="查看容器对应的宿主pid"></a>查看容器对应的宿主pid</h3><ul>
<li>通过 docker container top<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ docker container top b71e02952ed1 </span><br><span class="line"></span><br><span class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD </span><br><span class="line">999                 20969               20950               0                   tammi19             ?                   00:00:28            postgres </span><br><span class="line">999                 21228               20969               0                   tammi19             ?                   00:00:00            postgres: checkpointer </span><br><span class="line">999                 21229               20969               0                   tammi19             ?                   00:00:16            postgres: background writer </span><br><span class="line">999                 21230               20969               0                   tammi19             ?                   00:00:16            postgres: walwriter </span><br><span class="line">999                 21231               20969               0                   tammi19             ?                   00:00:23            postgres: autovacuum launcher </span><br><span class="line">999                 21233               20969               0                   tammi19             ?                   00:00:47            postgres: stats collector </span><br><span class="line">999                 21234               20969               0                   tammi19             ?                   00:00:00            postgres: logical replication launcher </span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2022/02/03/linux/command/linux-command-how-to-check-container-opened-file-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-10T07:47:09.000Z" title="11/10/2021, 9:47:09 AM">2021-11-10</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/jenkins/">jenkins</a></span><span class="level-item">9 分钟读完 (大约1309个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/11/10/cicd/jenkins/jenkins-sharedlib-tuto/">[Jenkins Job DSL]jenkins pipeline 编写共享库</a></h1><div class="content"><h2 id="Jenkins-Shared-Libraries"><a href="#Jenkins-Shared-Libraries" class="headerlink" title="Jenkins Shared Libraries"></a>Jenkins Shared Libraries</h2><p>使用Jenkins pipeline时, 我们有时不希望代码过于混乱, 代码过于重复,比如一个公用方法, 公用类我们希望它是编写一次, 然后被共享, 但是在Job DSL Plugin 1.60, 以前, 我们可以通过注入共享的groovy文件来达到目的, 但是新版本由于安全问题 <a target="_blank" rel="noopener" href="https://github.com/jenkinsci/job-dsl-plugin/wiki/Script-Security">Script-Security</a>, 这种注入的方法被关闭, 如若没有管理员权限开放, 这种方法是不可以使用了:</p>
<p><em>To avoid loading arbitrary code from the workspace without approval, the script directory is not added to the classpath and additional classpath entries are not supported when security is enabled. Thus importing classes from the workspace is not possible and the “Additional Classpath” option is not available.</em></p>
<h2 id="如何使用和扩展-Shared-Libraries"><a href="#如何使用和扩展-Shared-Libraries" class="headerlink" title="如何使用和扩展 Shared Libraries"></a>如何使用和扩展 Shared Libraries</h2><p>官网介绍的比较清楚: <a target="_blank" rel="noopener" href="https://www.jenkins.io/zh/doc/book/pipeline/shared-libraries/">传送门</a></p>
<p>接着上面官网的例子, 实际应用中需要注意的几个点:</p></div><a class="article-more button is-small is-size-7" href="/2021/11/10/cicd/jenkins/jenkins-sharedlib-tuto/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-10-26T06:06:12.000Z" title="10/26/2021, 9:06:12 AM">2021-10-26</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/intellij/">intellij</a></span><span class="level-item">1 分钟读完 (大约175个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/26/idea/intellij/intellij-no-mouse-tips-1/">[intellij] intellj无鼠标常用操作</a></h1><div class="content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这些操作前提是你没自己改过默认设置, 我都是在linux ubuntu 下使用, windows和macOS, 会略有不同. 这些东西就是用多了就熟练了, 没什么技巧</p>
<h2 id="操作1-查看最近操作的文件"><a href="#操作1-查看最近操作的文件" class="headerlink" title="操作1: 查看最近操作的文件"></a>操作1: 查看最近操作的文件</h2><p>查看最近操作的文件列表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+E</span><br></pre></td></tr></table></figure>
<p>查看最近操作的文件及内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+Shift+E</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2021/10/26/idea/intellij/intellij-no-mouse-tips-1/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-10-22T08:06:31.000Z" title="10/22/2021, 11:06:31 AM">2021-10-22</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/jenkins/">jenkins</a></span><span class="level-item">4 分钟读完 (大约585个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/22/cicd/jenkins/jenkins-environment-vras/">Jenkins pipeline 中的环境变量</a></h1><div class="content"><p>这里Jenkins pipeline中的环境变量就是操作系统的环境变量, 和你在linux 中执行export一个变量是一样的, 其类型为String，不同的是，这个变量是位于这个pipeline生命周期内,也就是说pipeline结束,这个env就没有了</p>
<h1 id="如何查看Jenkins-的环境变量"><a href="#如何查看Jenkins-的环境变量" class="headerlink" title="如何查看Jenkins 的环境变量"></a>如何查看Jenkins 的环境变量</h1><h2 id="直接通过访问master节点的env-vars-html"><a href="#直接通过访问master节点的env-vars-html" class="headerlink" title="直接通过访问master节点的env-vars.html"></a>直接通过访问master节点的env-vars.html</h2><p>直接通过访问master节点的env-vars.html, 例如 <code>http://&lt;HOST&gt;/env-vars.html/</code>, 你可以看到所有当前的环境变量, 但是这些环境变量只是jenkins此时预制的环境变量</p></div><a class="article-more button is-small is-size-7" href="/2021/10/22/cicd/jenkins/jenkins-environment-vras/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-10-22T07:13:50.000Z" title="10/22/2021, 10:13:50 AM">2021-10-22</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/jenkins/">jenkins</a></span><span class="level-item">3 分钟读完 (大约383个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/22/cicd/jenkins/how-to-highlight-jenkins-pipeline-code/">[jenkins]Intellij jenkins pipeline代码高亮设置</a></h1><div class="content"><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>在CICD的建设中, jenkins的pipeline代码一般是脚本的形式存在, 作为一个开发人员, 我们往往熟悉了idea给我们提供的代码高亮和验证功能, 那么是否可以实现代码高亮? 答案是可以, 但是并没有我们写传统java, Python等代码时那么完善, 不过总被没有强</p>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><h2 id="配置pipeline代码让groovy可以识别"><a href="#配置pipeline代码让groovy可以识别" class="headerlink" title="配置pipeline代码让groovy可以识别"></a>配置pipeline代码让groovy可以识别</h2><p>在Intellij 的setting中, 找到File types, 然后按下图让Intellij识别你的Jenkinsfile为groovy文件<br><img src="https://res.cloudinary.com/djpkulbas/image/upload/v1634887503/blog/jenkins/jenkins1_lwce9g.png"></p></div><a class="article-more button is-small is-size-7" href="/2021/10/22/cicd/jenkins/how-to-highlight-jenkins-pipeline-code/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-10-07T07:48:08.000Z" title="10/7/2021, 10:48:08 AM">2021-10-07</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/ansible/">ansible</a></span><span class="level-item">8 分钟读完 (大约1163个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/07/ansible/how-to-add-host/">[ansible]add_host模块使用</a></h1><div class="content"><h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>有时在使用ansible时, 有一些需求需要动态的加入一些host, 比如临时创建两台虚拟机, 在创建之前你也不知道他们的ip, 而在创建之后, 你需要用ansible进行一系列操作.这时把host写进内存就是一个比较好的方法.</p>
<h1 id="add-host-模块"><a href="#add-host-模块" class="headerlink" title="add_host 模块"></a>add_host 模块</h1><p>这个模块就是ansible预置的模块, 提供动态添加host, 更直接的讲就是可以直接修改inventory文件, 当然这个inventory 文件并不是真正你使用的inventory, 而是内存中的inventory</p>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><h2 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h2><p>原本的inventory 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[new]</span><br><span class="line">192.168.50.146</span><br><span class="line">192.168.50.109</span><br></pre></td></tr></table></figure>
<p>这时, 写一个简单的play</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hello</span> <span class="string">world</span></span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">new</span></span><br><span class="line">  <span class="attr">gather_facts:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test</span> <span class="string">current</span> <span class="string">hosts</span></span><br><span class="line">      <span class="attr">debug:</span></span><br><span class="line">        <span class="attr">msg:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;item&#125;&#125;</span> <span class="template-variable">&#123;&#123;hostvars[item].inventory_hostname&#125;&#125;</span>&quot;</span></span><br><span class="line">      <span class="attr">loop:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; play_hosts &#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2021/10/07/ansible/how-to-add-host/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-10-04T13:32:15.000Z" title="10/4/2021, 4:32:15 PM">2021-10-04</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/kubernetes/">kubernetes</a></span><span class="level-item">3 分钟读完 (大约379个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/04/kubernetes/how-to-approve-certificate/">链接pod时 出现Error from server error dialing backend remote error - tls - internal error</a></h1><div class="content"><h1 id="问题出现"><a href="#问题出现" class="headerlink" title="问题出现"></a>问题出现</h1><p>发现这个问题是因为我需要查看部分CrashLoopBackOff 的pod日志, 当执行 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl -n kube-system exec -it openstack-cloud-controller-manager-vrdld -- /bin/bash</span><br></pre></td></tr></table></figure>

<p>时报错, 错误如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error from server: error dialing backend: remote error: tls: internal error</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2021/10/04/kubernetes/how-to-approve-certificate/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-08-09T02:44:20.000Z" title="8/9/2021, 5:44:20 AM">2021-08-09</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.046Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/kubernetes/">kubernetes</a><span> / </span><a class="link-muted" href="/categories/kubernetes/network/">network</a></span><span class="level-item">2 分钟读完 (大约298个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/09/kubernetes/what_is_overlay_network/">[kubernetes]什么是overlay network</a></h1><div class="content"><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ul>
<li>overlay network 这个概念是在接触kubernetes后常常遇到的, 比如pod之间. 它其实就是解决了一个问题,就是, 不同宿主机之间, 要想pod之间能直接通信, 那么就必须通过某种方法来达到目的</li>
<li>overlay network就是这么一个网络, 和它的名称一样, 是和我们直观的网络不在同一层的网络. <h1 id="图示"><a href="#图示" class="headerlink" title="图示"></a>图示</h1>打个比方, 有两个宿主机172.10.0.4 和 192.168.1.5, 很明显他们不在同一网段, 不能直接通信, 两者之间用一个路由器链接. 那么此时假设, 两个机器上各有一个pod, 10.0.0.3和10.0.0.4, 而我们需要这两个pod之间直接通信的话, 那么这两个pod之间我们架设的网络, 就是一个overlay 网络, 也就是凌驾在节点自身网络之上的另一个网络, 一般就是将pod数据包再次封装成节点的数据包, 然后转发, 或者是建立隧道等等, 比如上面的例子的图示, 这里的Overlay 可以是个隧道, 可以是vpn, 可以是封装后的包通过路由 等等…<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+---------------+          +---------------+</span><br><span class="line">|               |          |               |</span><br><span class="line">|   +-------+   |          |   +-------+   |</span><br><span class="line">|   | pod1  |====[Overylay]====| pod2  |   |</span><br><span class="line">|   +-------+   |          |   +-------+   |</span><br><span class="line">|   10.0.0.3    |          |   10.0.0.4    |</span><br><span class="line">|               |          |               |</span><br><span class="line">+---------------+          +---------------+</span><br><span class="line">    172.10.0.4                192.168.1.5</span><br><span class="line">       |                            |</span><br><span class="line">       |===========[Router]=========|         </span><br></pre></td></tr></table></figure></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-08-02T05:11:47.000Z" title="8/2/2021, 8:11:47 AM">2021-08-02</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/git/">git</a></span><span class="level-item">几秒读完 (大约76个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/02/centos/install_git_centos8/">[centos8] 使用DNF安装git</a></h1><div class="content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这里使用dnf, dnf是下一代的包管理工具</p></div><a class="article-more button is-small is-size-7" href="/2021/08/02/centos/install_git_centos8/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-07-30T01:42:09.000Z" title="7/30/2021, 4:42:09 AM">2021-07-30</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"> Jiang WU </span><span class="level-item"><a class="link-muted" href="/categories/ansible/">ansible</a></span><span class="level-item">3 分钟读完 (大约492个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/07/30/ansible/key_value_list_to_dict/">[ansible]key value list 转 dictionary</a></h1><div class="content"><h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>这两天我需要kubernetes 上面没有ready 的pod列出来, 然后对这些pod进行操作, 又要用到ansible, 思来想去不如来个map, 那么 python 或者ansible里面叫dict</p></div><a class="article-more button is-small is-size-7" href="/2021/07/30/ansible/key_value_list_to_dict/#more">阅读更多</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">上一页</a></div><div class="pagination-next"><a href="/page/3/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/gallery/common/profile.jpg" alt="Jiang WU"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Jiang WU</p><p class="is-size-6 is-block">Daddy, Husband, Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Espoo, Finland</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">28</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">29</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-09-28T10:36:05.000Z">2022-09-28</time></p><p class="title"><a href="/2022/09/28/kubernetes/debug_kubelet_dead_oom/">记一次kubelet假死的问题排查</a></p><p class="categories"><a href="/categories/kubernetes/">kubernetes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-09T13:15:42.000Z">2022-05-09</time></p><p class="title"><a href="/2022/05/09/runc/runc-hello-md/">runc 入门使用</a></p><p class="categories"><a href="/categories/runc/">runc</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-06T12:14:48.000Z">2022-05-06</time></p><p class="title"><a href="/2022/05/06/go/error/fix-file-is-not-goimports-md/">Golang 解决错误 File is not goimports -ed (goimports)</a></p><p class="categories"><a href="/categories/golang/">golang</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-08T19:05:37.000Z">2022-03-08</time></p><p class="title"><a href="/2022/03/08/cicd/jenkins/jenkins-load-groovy-script-md/">jenkins pipeline加载groovy脚本</a></p><p class="categories"><a href="/categories/jenkins/">jenkins</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-06T18:16:13.000Z">2022-03-06</time></p><p class="title"><a href="/2022/03/06/go/basic/go-golang-timeout-md/">go中实现简单异步回调函数</a></p><p class="categories"><a href="/categories/golang/">golang</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">二月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ansible/"><span class="tag">ansible</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">blog</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/builder/"><span class="tag">builder</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos8/"><span class="tag">centos8</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/channel/"><span class="tag">channel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/error/"><span class="tag">error</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/golang/"><span class="tag">golang</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hugo/"><span class="tag">hugo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/intellij/"><span class="tag">intellij</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jenkins/"><span class="tag">jenkins</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes%E5%B7%A5%E5%85%B7/"><span class="tag">kubernetes工具</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lsof/"><span class="tag">lsof</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/makefile/"><span class="tag">makefile</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openstack/"><span class="tag">openstack</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openstack%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"><span class="tag">openstack常用操作</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pipeline/"><span class="tag">pipeline</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pointer/"><span class="tag">pointer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/runc/"><span class="tag">runc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spring/"><span class="tag">spring</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thread/"><span class="tag">thread</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tutorial/"><span class="tag">tutorial</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vagrant/"><span class="tag">vagrant</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webflux/"><span class="tag">webflux</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ansible/"><span class="level-start"><span class="level-item">ansible</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/blog/"><span class="level-start"><span class="level-item">blog</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/golang/"><span class="level-start"><span class="level-item">golang</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/intellij/"><span class="level-start"><span class="level-item">intellij</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/java/spring/"><span class="level-start"><span class="level-item">spring</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/java/spring/webflux/"><span class="level-start"><span class="level-item">webflux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/jenkins/"><span class="level-start"><span class="level-item">jenkins</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/kubernetes/"><span class="level-start"><span class="level-item">kubernetes</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/kubernetes/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/openstack/"><span class="level-start"><span class="level-item">openstack</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/runc/"><span class="level-start"><span class="level-item">runc</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/vagrant/"><span class="level-start"><span class="level-item">vagrant</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/gallery/common/ava.png" alt="Unprofessional BUG" height="28"></a><p class="is-size-7"><span>&copy; 2022 Jiang WU</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>