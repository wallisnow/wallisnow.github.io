<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Unprofessional BUG</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Unprofessional BUG"><meta name="msapplication-TileImage" content="/gallery/common/ava.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Unprofessional BUG"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Unprofessional BUG"><meta property="og:url" content="https://unprobug.com/"><meta property="og:site_name" content="Unprofessional BUG"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://unprobug.com/img/og_image.png"><meta property="article:author" content="Jiang WU"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://unprobug.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://unprobug.com"},"headline":"Unprofessional BUG","image":["https://unprobug.com/img/og_image.png"],"author":{"@type":"Person","name":"Jiang WU"},"publisher":{"@type":"Organization","name":"Unprofessional BUG","logo":{"@type":"ImageObject","url":"https://unprobug.com/gallery/common/ava.png"}},"description":""}</script><link rel="alternate" href="/atom.xml" title="Unprofessional BUG" type="application/atom+xml"><link rel="icon" href="/gallery/common/ava.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/agate.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-QNSJ3VFPDD" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-QNSJ3VFPDD');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/gallery/common/ava.png" alt="Unprofessional BUG" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/copyright">Copyright</a></div><div class="navbar-end"><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-09-28T10:36:05.000Z" title="9/28/2022, 1:36:05 PM">2022-09-28</time>发表</span><span class="level-item"><time dateTime="2022-09-28T11:23:48.176Z" title="9/28/2022, 2:23:48 PM">2022-09-28</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/kubernetes/">kubernetes</a></span><span class="level-item">8 分钟读完 (大约1178个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/09/28/kubernetes/debug_kubelet_dead_oom/">记一次kubelet假死的问题排查</a></h1><div class="content"><h2 id="发现问题"><a href="#发现问题" class="headerlink" title="发现问题"></a>发现问题</h2><p>今天在升级kubernetes集群时，被升级节点突然开始变得异常缓慢，ssh需要很久很久, 但是却可以ping的通. 有问题如下:</p>
<ul>
<li>节点缓慢</li>
<li>可以ping 不可以ssh</li>
<li>健康节点上 kubectl describe node, 可以看到 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Conditions:</span><br><span class="line">  Type                 Status    LastHeartbeatTime                 LastTransitionTime                Reason              Message</span><br><span class="line">  ----                 ------    -----------------                 ------------------                ------              -------</span><br><span class="line">  NetworkUnavailable   False     Wed, 28 Sep 2022 07:08:34 +0000   Wed, 28 Sep 2022 07:08:34 +0000   CalicoIsUp          Calico is running on this node</span><br><span class="line">  MemoryPressure       Unknown   Wed, 28 Sep 2022 07:46:33 +0000   Wed, 28 Sep 2022 07:47:36 +0000   NodeStatusUnknown   Kubelet stopped posting node status.</span><br><span class="line">  DiskPressure         Unknown   Wed, 28 Sep 2022 07:46:33 +0000   Wed, 28 Sep 2022 07:47:36 +0000   NodeStatusUnknown   Kubelet stopped posting node status.</span><br><span class="line">  PIDPressure          Unknown   Wed, 28 Sep 2022 07:46:33 +0000   Wed, 28 Sep 2022 07:47:36 +0000   NodeStatusUnknown   Kubelet stopped posting node status.</span><br><span class="line">  Ready                Unknown   Wed, 28 Sep 2022 07:46:33 +0000   Wed, 28 Sep 2022 07:47:36 +0000   NodeStatusUnknown   Kubelet stopped posting node status.</span><br><span class="line">Addresses:</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="排查问题"><a href="#排查问题" class="headerlink" title="排查问题"></a>排查问题</h2><ol>
<li>ssh 到问题节点, 拿到shell并root</li>
</ol>
<p>在describe node 时， 看到kubelet有问题， 那么先查看kubelet</p>
<ul>
<li><p>首先查看kubelet 状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">journalctl -u kubelet|less</span><br><span class="line"></span><br><span class="line">or</span><br><span class="line"></span><br><span class="line">root@node-15-cp-gswpw:~&gt; systemctl status kubelet</span><br><span class="line">● kubelet.service - kubelet: The Kubernetes Node Agent</span><br><span class="line">     Loaded: loaded (/usr/local/lib/systemd/system/kubelet.service; enabled; vendor preset: disabled)</span><br><span class="line">     Active: active (running) since Wed 2022-09-28 06:39:55 UTC; 1h 14min ago</span><br><span class="line">       Docs: http://kubernetes.io/docs/</span><br><span class="line">   Main PID: 8440 (kubelet)</span><br><span class="line">      Tasks: 27</span><br><span class="line">     CGroup: /system.slice/kubelet.service</span><br><span class="line">             └─8440 /usr/local/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --read-only-port=0 --config=/var/lib/kubelet/config.yaml --&gt;</span><br><span class="line"></span><br><span class="line">Sep 28 07:54:18 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:18.267169    8440 kubelet_volumes.go:245] <span class="string">&quot;There were many similar errors. Turn up verbosity to see them.&quot;</span> err=<span class="string">&quot;orphaned pod \&quot;7181c&gt;</span></span><br><span class="line"><span class="string">Sep 28 07:54:20 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:20.268365    8440 kubelet_volumes.go:245] &quot;</span>There were many similar errors. Turn up verbosity to see them.<span class="string">&quot; err=&quot;</span>orphaned pod \&quot;7181c&gt;</span><br><span class="line">Sep 28 07:54:22 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:22.268410    8440 kubelet_volumes.go:245] <span class="string">&quot;There were many similar errors. Turn up verbosity to see them.&quot;</span> err=<span class="string">&quot;orphaned pod \&quot;7181c&gt;</span></span><br><span class="line"><span class="string">Sep 28 07:54:24 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:24.266872    8440 kubelet_volumes.go:245] &quot;</span>There were many similar errors. Turn up verbosity to see them.<span class="string">&quot; err=&quot;</span>orphaned pod \&quot;7181c&gt;</span><br><span class="line">Sep 28 07:54:26 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:26.268006    8440 kubelet_volumes.go:245] <span class="string">&quot;There were many similar errors. Turn up verbosity to see them.&quot;</span> err=<span class="string">&quot;orphaned pod \&quot;7181c&gt;</span></span><br><span class="line"><span class="string">Sep 28 07:54:28 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:28.269099    8440 kubelet_volumes.go:245] &quot;</span>There were many similar errors. Turn up verbosity to see them.<span class="string">&quot; err=&quot;</span>orphaned pod \&quot;7181c&gt;</span><br><span class="line">Sep 28 07:54:30 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:30.266409    8440 kubelet_volumes.go:245] <span class="string">&quot;There were many similar errors. Turn up verbosity to see them.&quot;</span> err=<span class="string">&quot;orphaned pod \&quot;7181c&gt;</span></span><br><span class="line"><span class="string">Sep 28 07:54:32 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:32.268111    8440 kubelet_volumes.go:245] &quot;</span>There were many similar errors. Turn up verbosity to see them.<span class="string">&quot; err=&quot;</span>orphaned pod \&quot;7181c&gt;</span><br><span class="line">Sep 28 07:54:34 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:34.266758    8440 kubelet_volumes.go:245] <span class="string">&quot;There were many similar errors. Turn up verbosity to see them.&quot;</span> err=<span class="string">&quot;orphaned pod \&quot;7181c&gt;</span></span><br><span class="line"><span class="string">Sep 28 07:54:36 node-15-cp-gswpw.novalocal kubelet[8440]: E0928 07:54:36.272904    8440 kubelet_volumes.go:245] &quot;</span>There were many similar errors. Turn up verbosity to see them.<span class="string">&quot; err=&quot;</span>orphaned pod \&quot;7181</span><br></pre></td></tr></table></figure>
<p>看到kubelet 实际是启动的，但是有报错</p>
</li>
<li><p>查看api server</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crictl ps -a</span><br></pre></td></tr></table></figure>

<p>看到 api server 是退出的状态, 在查看它的日志</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crictl <span class="built_in">log</span> 87d3992f84f74</span><br></pre></td></tr></table></figure>

<p>看到许多的链接异常, 并看到etcd异常, 此时基本断定，etcd通讯异常和我们ssh应该是一个问题，也就是说不是kubernetes 的问题了</p>
<ol start="2">
<li>排查系统层面的问题</li>
</ol>
<ul>
<li>查看进程</li>
</ul>
<p>top 后， 看到 kswapd0 占用高cpu, 简单说， 就是系统现在没内存了， 要异步回收资源, 看到这里就已经有点问题的苗头了.<br>而且 load average 值过高(实际要观察其1-15分钟的变化)， 现在很多进程需要处理.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line"></span><br><span class="line">top - 08:20:09 up  1:43,  1 user,  load average: 176.16, 177.88, 186.03</span><br><span class="line">Tasks: 373 total,  53 running, 316 sleeping,   0 stopped,   4 zombie</span><br><span class="line">%Cpu(s):  0.2 us, 99.8 sy,  0.0 ni,  0.0 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.1 si,  0.0 st</span><br><span class="line">MiB Mem : 3921.832 total,   86.609 free, 3869.438 used,  210.109 buff/cache</span><br><span class="line">MiB Swap:    0.000 total,    0.000 free,    0.000 used.   52.395 avail Mem </span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                                                                                                                                  </span><br><span class="line">   108 root      20   0       0      0      0 R 69.09 0.000  38:38.54 kswapd0                                                                                                                                  </span><br><span class="line">  8690 root      15  -5 1801280 828812      0 S 35.76 20.64  28:20.95 kube-apiserver                                                                                                                           </span><br><span class="line">  5561 root      20   0  819188  19556      0 S 22.12 0.487  11:00.48 kube-controller                                                                                                                          </span><br><span class="line">116886 292100    20   0 4240176 280800      0 S 17.27 6.992   3:00.43 java                                                                                                                                     </span><br><span class="line">  5579 root      20   0  752904  26280      0 R 16.97 0.654   9:51.93 kube-scheduler                                                                                                                           </span><br><span class="line">116503 211908    20   0 4232144 280032      0 S 16.06 6.973   3:04.31 java                                                                                                                                     </span><br><span class="line">  7799 root      15  -5  9.892g 128688      0 R 15.45 3.204  13:20.12 etcd                                                                                                                                     </span><br><span class="line">100063 root      20   0  751580  20368      0 R 14.85 0.507   3:54.08 coredns                                                                                                                                  </span><br><span class="line">115499 root      20   0 1454732  88380    440 S 14.24 2.201   2:50.97 vmagent                                                                                                                                  </span><br><span class="line"> 69120 root      20   0 2042904  21748      0 S 9.697 0.542  13:06.08 calico-node                                                                                                                              </span><br><span class="line"> 69121 root      20   0 1894928  15780      0 S 9.394 0.393   3:28.76 calico-node                                                                                                                              </span><br><span class="line">102022 root      20   0 1798948 227396      0 S 9.091 5.662   2:53.44 vmstorage                                                                                                                                </span><br><span class="line"> 35393 root      20   0  728996  20380      0 R 8.485 0.507   4:40.08 registry                                                                                                                                 </span><br><span class="line">101284 288256    20   0 1260044  12480      0 R 8.182 0.311   1:54.41 controller                                                                                                                               </span><br><span class="line">  8440 root      20   0 2817068  98476      0 S 7.879 2.452  10:45.11 kubelet                                                                                                                                  </span><br><span class="line">119482 root      20   0   12292   1108    900 R 7.576 0.028   0:00.49 sh                                                                                                                                       </span><br><span class="line">117868 root      20   0  118232   7604   6472 R 7.273 0.189   1:08.98 systemd-journal                                                                                                                          </span><br><span class="line"> 69118 root      20   0 1452024  12740      0 R 6.667 0.317   1:33.67 calico-node                                                                                                                              </span><br><span class="line"> 26767 root      20   0  965176 294476  30348 R 6.364 7.333   5:27.58 falco                                                                                                                                    </span><br><span class="line">113762 root      20   0 1164648  13464      0 S 6.364 0.335   1:29.39 vmselect                                                                                                                                 </span><br><span class="line">115675 128052    20   0 1334232  10372      0 R 6.364 0.258   1:36.60 app                                                                                                                                      </span><br><span class="line"> 10800 root      20   0  712264   8672      0 S 6.061 0.216   1:02.54 xx-local-execu                                                                                                                          </span><br><span class="line">114380 root      20   0 1231764  67000      0 S 5.758 1.668   1:19.32 vminsert                                                                                                                                 </span><br><span class="line">119450 root      20   0  724712    528      0 R 5.455 0.013   0:01.48 crictl                                                                                                                                   </span><br><span class="line">119456 root      20   0   45896   2956   1892 R 5.455 0.074   0:00.77 top</span><br></pre></td></tr></table></figure>

<ul>
<li>查看内核日志</li>
</ul>
<p>为了确定这一点， 来查看内核日志.</p>
<p>需要注意的是， 内核日志有可能刷新太快， 你grep 时不一定有输出， 要持续观察</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-bash-4.4<span class="comment"># grep -i &quot;Out Of Memory&quot; /var/log/messages</span></span><br><span class="line">2022-09-28T08:24:19.537448+00:00 node-15-cp-gswpw kernel: [ 6472.442368] Out of memory: Killed process 101788 (python3) total-vm:487148kB, anon-rss:54264kB, file-rss:0kB, shmem-rss:0kB</span><br><span class="line">2022-09-28T08:27:28.284397+00:00 node-15-cp-gswpw kernel: [ 6661.390988] Out of memory: Killed process 113716 (python3) total-vm:297436kB, anon-rss:49260kB, file-rss:0kB, shmem-rss:0kB</span><br></pre></td></tr></table></figure>

<p>看到上面的信息， 我们也就看到了问题, 就是 OOM</p>
<ul>
<li>查看僵尸进程</li>
</ul>
<p>hmmm… 这么多 (Z)Zombie 状态的进程，很多都是和网络有关,这就是什么所有链接的怪怪的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-bash-4.4<span class="comment"># ps aux|grep Z</span></span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root     101788  0.2  0.0      0     0 ?        Zs   07:50   0:06 [python3] &lt;defunct&gt;</span><br><span class="line">root     113716  0.2  0.0      0     0 ?        Zs   07:55   0:05 [python3] &lt;defunct&gt;</span><br><span class="line">root     115424  0.2  0.0      0     0 ?        Zsl  07:55   0:05 [python3] &lt;defunct&gt;</span><br><span class="line">128052   117448  0.0  0.0      0     0 ?        Z    07:55   0:00 [curl] &lt;defunct&gt;</span><br><span class="line">root     118982  0.0  0.0      0     0 ?        Z    08:17   0:00 [ip6tables] &lt;defunct&gt;</span><br><span class="line">root     118994  0.0  0.0      0     0 ?        Z    08:17   0:00 [iptables] &lt;defunct&gt;</span><br><span class="line">128052   119206  0.4  0.0      0     0 ?        Z    08:18   0:03 [curl] &lt;defunct&gt;</span><br><span class="line">root     119324  1.7  0.0      0     0 ?        Zs   08:18   0:12 [calico-node] &lt;defunct&gt;</span><br><span class="line">root     119460  0.2  0.0      0     0 ?        Z    08:19   0:01 [iptables] &lt;defunct&gt;</span><br><span class="line">root     119736 16.4  0.0  10248  1512 pts/1    S+   08:30   0:00 grep Z</span><br></pre></td></tr></table></figure>

<ul>
<li>查看当前系统的内存</li>
</ul>
<p>只有3个G， free 是0. (注意free 是0 不能断定系统没内存了, 详情 ref： <a target="_blank" rel="noopener" href="https://www.linuxatemyram.com/">https://www.linuxatemyram.com/</a>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-bash-4.4<span class="comment"># free -g</span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:              3           3           0           0           0           0</span><br><span class="line">Swap:             0           0           0</span><br></pre></td></tr></table></figure>

<ul>
<li>多一嘴</li>
</ul>
<p>OOM Killer 会在系统内存相当吃紧时被调用， 此时， 很多进程就会被杀死， 那么整个系统就并不可靠了， 因为你不知道谁被杀了</p>
<h2 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h2><p>加内存， 或者将一些应用的内存调小</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-05-09T13:15:42.000Z" title="5/9/2022, 4:15:42 PM">2022-05-09</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.046Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/runc/">runc</a></span><span class="level-item">5 分钟读完 (大约799个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/05/09/runc/runc-hello-md/">runc 入门使用</a></h1><div class="content"><h2 id="runc的个人理解"><a href="#runc的个人理解" class="headerlink" title="runc的个人理解"></a>runc的个人理解</h2><p>结合日常应用, 我个人的理解就是一个运行于docker和操作系统之间的中间件, 也就是说docker 通过调用runc, 达到对容器的操作, 也就是说docker的所有操作也可以通过直接操作runc完成:<br>docker —-&gt; runc —–&gt; os</p>
<h2 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h2><p>假设此时, 我们有一个容器, 这里我们需要新建一个rootfs文件夹, runc也就是使用此文件内的文件为容器内部代码, 如果你观察, 其实就是docker 镜像内部文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#解包一个本地容器内容</span></span><br><span class="line"><span class="built_in">mkdir</span> rootfs</span><br><span class="line">sudo docker <span class="built_in">export</span> $(sudo docker create busybox:1.34.1)|tar -C ./rootfs -xvf -</span><br></pre></td></tr></table></figure>
<p>然后生成runc配置文件config.json, 配合上面的rootfs内部文件, 就可以用runc 启动容器了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runc spec </span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2022/05/09/runc/runc-hello-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-05-06T12:14:48.000Z" title="5/6/2022, 3:14:48 PM">2022-05-06</time>发表</span><span class="level-item"><time dateTime="2022-06-23T12:20:24.458Z" title="6/23/2022, 3:20:24 PM">2022-06-23</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/golang/">golang</a></span><span class="level-item">1 分钟读完 (大约132个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/05/06/go/error/fix-file-is-not-goimports-md/">Golang 解决错误 File is not goimports -ed (goimports)</a></h1><div class="content"><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>当我们引入<code>golangci-lint</code>, 然后检查代码格式, 检查时会产生如下问题</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File is not <span class="string">`goimports`</span>-ed (goimports)</span><br></pre></td></tr></table></figure>
<p>这个是因为我们的代码中部分 import 格式并不符合linting 的规范</p></div><a class="article-more button is-small is-size-7" href="/2022/05/06/go/error/fix-file-is-not-goimports-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-08T19:05:37.000Z" title="3/8/2022, 9:05:37 PM">2022-03-08</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/jenkins/">jenkins</a></span><span class="level-item">3 分钟读完 (大约380个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/08/cicd/jenkins/jenkins-load-groovy-script-md/">jenkins pipeline加载groovy脚本</a></h1><div class="content"><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>有时我们希望将jenkins pipeline的代码模块化, 比如将一些公共常用的方法写在一个groovy文件中然后在Jenkinsfile 调用, 那么这时, 我们可以使用<a href="http://unprobug.com/2021/11/10/cicd/jenkins/jenkins-sharedlib-tuto/">Jenkins Shared Libraries</a>, 但有时我们的代码量不大时, 可以考虑直接加载脚本</p>
<h2 id="插件-Pipeline-Groovy"><a href="#插件-Pipeline-Groovy" class="headerlink" title="插件 Pipeline: Groovy"></a>插件 Pipeline: Groovy</h2><p>首先安装Pipeline: Groovy插件, 详见<a target="_blank" rel="noopener" href="https://plugins.jenkins.io/workflow-cps/">Pipeline: Groovy</a></p>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><p>假设此时你有一个工程是这样:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">project-with-tests$ tree -L 1</span><br><span class="line">.</span><br><span class="line">├── Jenkinsfile</span><br><span class="line">├── logs.groovy</span><br><span class="line">├── pom.xml</span><br><span class="line">├── src</span><br><span class="line">└── target</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2022/03/08/cicd/jenkins/jenkins-load-groovy-script-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-06T18:16:13.000Z" title="3/6/2022, 8:16:13 PM">2022-03-06</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/golang/">golang</a></span><span class="level-item">3 分钟读完 (大约458个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/06/go/basic/go-golang-timeout-md/">go中实现简单异步回调函数</a></h1><div class="content"><h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><p>回调函数是指当程序执行到某种条件时, 执行一些action, 比如, 当程序正确执行完成, 回调某函数, 这里比较绕的地方就是, 此程序是异步执行, 主线程是不关心它是否结束, 所以也就产生了回调的概念</p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>假设我们有一个程序A正在运行, 同时, 我们希望异步执行B程序, 执行完成后让用户知道, B执行完成, 比如打印什么的, 那么这种情况就是一种异步回调</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>我们模拟一个这样的场景, task线程比如我们就是一个耗时的操作sleep, 那么我们希望B正常执行完成后, 回调函数, 控制台输出成功</p></div><a class="article-more button is-small is-size-7" href="/2022/03/06/go/basic/go-golang-timeout-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-05T12:57:47.000Z" title="3/5/2022, 2:57:47 PM">2022-03-05</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/golang/">golang</a></span><span class="level-item">4 分钟读完 (大约666个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/05/go/basic/go-golang-limit-parallel-execution-md/">go 限制并行线程数</a></h1><div class="content"><h2 id="go中的多线程"><a href="#go中的多线程" class="headerlink" title="go中的多线程"></a>go中的多线程</h2><p>go 中启动线程很方便, 只需要在函数前 写go 关键字即可</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    log.Println(i)</span><br><span class="line">    &lt;-ch</span><br><span class="line">&#125;(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<p>那么这里就有了问题, 如何限定多少个线程同时执行(或者说同批次)? 在生产环境, 为了避免并发数量过高, 引发:</p>
<blockquote>
<p>panic: too many concurrent operations on a single file or socket</p>
</blockquote>
<p>那么我们需要解决这一问题</p>
<h2 id="问题一-如何保证所有线程都能结束"><a href="#问题一-如何保证所有线程都能结束" class="headerlink" title="问题一, 如何保证所有线程都能结束"></a>问题一, 如何保证所有线程都能结束</h2></div><a class="article-more button is-small is-size-7" href="/2022/03/05/go/basic/go-golang-limit-parallel-execution-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-03T09:12:22.000Z" title="3/3/2022, 11:12:22 AM">2022-03-03</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/golang/">golang</a></span><span class="level-item">3 分钟读完 (大约474个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/03/go/pattern/go-golang-object-builder-md/">go中实现简单的 Object builder</a></h1><div class="content"><h2 id="对象建造者"><a href="#对象建造者" class="headerlink" title="对象建造者"></a>对象建造者</h2><p>在Java 中我们常用建造者模式来构建对象, 相较于传统构造器, 它更加灵活, 但是需要前期编码更多, 那么我们是否可以也在go中实现呢?</p>
<h2 id="Java中的对象builder"><a href="#Java中的对象builder" class="headerlink" title="Java中的对象builder"></a>Java中的对象builder</h2></div><a class="article-more button is-small is-size-7" href="/2022/03/03/go/pattern/go-golang-object-builder-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-02T11:54:42.000Z" title="3/2/2022, 1:54:42 PM">2022-03-02</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.042Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/golang/">golang</a></span><span class="level-item">7 分钟读完 (大约1105个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/02/go/basic/go-struct-pointer-basic-md/">go struct的指针</a></h1><div class="content"><h2 id="指针概述"><a href="#指针概述" class="headerlink" title="指针概述"></a>指针概述</h2><p>最早接触指针是大学学C的时候, 印象最深刻的就是说指针即地址, 随着工作经验的增加, 知道了,程序初始化对象时, (通常)会在内存中开辟空间来存放这个对象, 那在计算机处理这个对象时,必然需要知道这个对象所在的位置, 那么这个位置就是指针, 也就是你买了个房子, 住了进去, 那么为了让别人知道你家在哪, 那得有个地址.</p>
<h2 id="再次理解"><a href="#再次理解" class="headerlink" title="再次理解"></a>再次理解</h2><p>假设我们有一个对象 User1, 在内存中有一片自己的值空间:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">||||| User1 |||||</span><br><span class="line">| id   1        |</span><br><span class="line">| name  LaoWang |</span><br><span class="line">|||||||||||||||||</span><br><span class="line">-----------------</span><br><span class="line">|  0xc00000e038 |</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2022/03/02/go/basic/go-struct-pointer-basic-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-02-03T08:34:51.000Z" title="2/3/2022, 10:34:51 AM">2022-02-03</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.046Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/linux/">linux</a></span><span class="level-item">2 分钟读完 (大约331个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/02/03/linux/command/lsof-permission-study-md/">lsof的权限问题</a></h1><div class="content"><h2 id="lsof-了解"><a href="#lsof-了解" class="headerlink" title="lsof 了解"></a>lsof 了解</h2><p>linux 一切皆文件, lsof – lists open files, 所以, 这个命令理论上, 你可以看到所有打开的文件, 也就是所有打开的东西, 比如, 文本, 网络链接, 进程, 等</p>
<h2 id="常见用法"><a href="#常见用法" class="headerlink" title="常见用法"></a>常见用法</h2><p>不是本文讨论重点, 可以自行谷歌<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sparkdev/p/10271351.html">常见用法</a></p>
<h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><p>一般教程往往给定了root权限, 所以当使用lsof时, 可以看到所有文件信息, 但是生产环境不一定, 这里我们做一个实验, 创建一个普通用户, 对比另一个用户执行lsof</p>
<ul>
<li>创建一个用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd tester</span><br><span class="line">sudo passwd tester</span><br></pre></td></tr></table></figure>

<ul>
<li>模拟一个进程来占用文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> test.txt</span><br><span class="line"><span class="built_in">tail</span> -f test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#为了方便观察, 先删了这个文件, 注意, 此时tail 还在访问这个文件</span></span><br><span class="line"><span class="built_in">rm</span> test.txt</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2022/02/03/linux/command/lsof-permission-study-md/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-02-03T08:34:51.000Z" title="2/3/2022, 10:34:51 AM">2022-02-03</time>发表</span><span class="level-item"><time dateTime="2022-06-08T18:32:05.046Z" title="6/8/2022, 9:32:05 PM">2022-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/linux/">linux</a></span><span class="level-item">7 分钟读完 (大约1020个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/02/03/linux/command/makefile-basic-md/">Makefile入门</a></h1><div class="content"><h2 id="Makefile-是什么"><a href="#Makefile-是什么" class="headerlink" title="Makefile 是什么"></a>Makefile 是什么</h2><p>不写具体定义, 个人理解就是一个通用的将代码组织起来的工具, 在java中我们常用maven或者gradle, 他们可以帮助我们编译java, 打包, 配置等等. 而makefile则是将这个过程交给开发人员本身, 用目标文件和它是怎么来的定义make的过程, 比如, 我们有一个, 可执行文件a, 这个a引用了b, 那么我们定义这个a的依赖过程, 就可以写在make中</p>
<h2 id="举个栗子"><a href="#举个栗子" class="headerlink" title="举个栗子"></a>举个栗子</h2></div><a class="article-more button is-small is-size-7" href="/2022/02/03/linux/command/makefile-basic-md/#more">阅读更多</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一页</a></div><div class="pagination-next"><a href="/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/gallery/common/profile.jpg" alt="Jiang WU"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Jiang WU</p><p class="is-size-6 is-block">Daddy, Husband, Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Espoo, Finland</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">28</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">29</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-09-28T10:36:05.000Z">2022-09-28</time></p><p class="title"><a href="/2022/09/28/kubernetes/debug_kubelet_dead_oom/">记一次kubelet假死的问题排查</a></p><p class="categories"><a href="/categories/kubernetes/">kubernetes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-09T13:15:42.000Z">2022-05-09</time></p><p class="title"><a href="/2022/05/09/runc/runc-hello-md/">runc 入门使用</a></p><p class="categories"><a href="/categories/runc/">runc</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-06T12:14:48.000Z">2022-05-06</time></p><p class="title"><a href="/2022/05/06/go/error/fix-file-is-not-goimports-md/">Golang 解决错误 File is not goimports -ed (goimports)</a></p><p class="categories"><a href="/categories/golang/">golang</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-08T19:05:37.000Z">2022-03-08</time></p><p class="title"><a href="/2022/03/08/cicd/jenkins/jenkins-load-groovy-script-md/">jenkins pipeline加载groovy脚本</a></p><p class="categories"><a href="/categories/jenkins/">jenkins</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-06T18:16:13.000Z">2022-03-06</time></p><p class="title"><a href="/2022/03/06/go/basic/go-golang-timeout-md/">go中实现简单异步回调函数</a></p><p class="categories"><a href="/categories/golang/">golang</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">二月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ansible/"><span class="tag">ansible</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">blog</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/builder/"><span class="tag">builder</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos8/"><span class="tag">centos8</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/channel/"><span class="tag">channel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/error/"><span class="tag">error</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/golang/"><span class="tag">golang</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hugo/"><span class="tag">hugo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/intellij/"><span class="tag">intellij</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jenkins/"><span class="tag">jenkins</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes%E5%B7%A5%E5%85%B7/"><span class="tag">kubernetes工具</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lsof/"><span class="tag">lsof</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/makefile/"><span class="tag">makefile</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openstack/"><span class="tag">openstack</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openstack%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"><span class="tag">openstack常用操作</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pipeline/"><span class="tag">pipeline</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pointer/"><span class="tag">pointer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/runc/"><span class="tag">runc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spring/"><span class="tag">spring</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thread/"><span class="tag">thread</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tutorial/"><span class="tag">tutorial</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vagrant/"><span class="tag">vagrant</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webflux/"><span class="tag">webflux</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ansible/"><span class="level-start"><span class="level-item">ansible</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/blog/"><span class="level-start"><span class="level-item">blog</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/golang/"><span class="level-start"><span class="level-item">golang</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/intellij/"><span class="level-start"><span class="level-item">intellij</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/java/spring/"><span class="level-start"><span class="level-item">spring</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/java/spring/webflux/"><span class="level-start"><span class="level-item">webflux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/jenkins/"><span class="level-start"><span class="level-item">jenkins</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/kubernetes/"><span class="level-start"><span class="level-item">kubernetes</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/kubernetes/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/openstack/"><span class="level-start"><span class="level-item">openstack</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/runc/"><span class="level-start"><span class="level-item">runc</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/vagrant/"><span class="level-start"><span class="level-item">vagrant</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/gallery/common/ava.png" alt="Unprofessional BUG" height="28"></a><p class="is-size-7"><span>&copy; 2022 Jiang WU</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>